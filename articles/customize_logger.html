<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customizing the format and destination of log records • logger</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Customizing the format and destination of log records">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">logger</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/customize_logger.html">Customizing the format and destination of log records</a>
    </li>
    <li>
      <a href="../articles/logger_structure.html">The anatomy of a log request</a>
    </li>
    <li>
      <a href="../articles/performance.html">Logger performance</a>
    </li>
    <li>
      <a href="../articles/write_custom_extensions.html">Writing custom logger extensions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/daroczig/logger">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Customizing the format and destination of log records</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/daroczig/logger/blob/master/vignettes/customize_logger.Rmd"><code>vignettes/customize_logger.Rmd</code></a></small>
      <div class="hidden name"><code>customize_logger.Rmd</code></div>

    </div>

    
    
<p>In this vignette I suppose that you are already familiar with <a href="https://daroczig.github.io/logger/articles/logger_structure.html">The Anatomy of a Log Request</a> vignette.</p>
<div id="what-gets-logged" class="section level2">
<h2 class="hasAnchor">
<a href="#what-gets-logged" class="anchor"></a>What gets logged?</h2>
<p><code>logger</code> mostly relies on and uses the default <code>log4j</code> log levels and supports suppressing log messages with a lower log level compared to the currently set threshold in the logging namespace:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'Hi, there!'</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; INFO [2018-11-24 00:20:44] Hi, there!</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="../reference/log_level.html">log_debug</a></span>(<span class="st">'How are you doing today?'</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>()</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt; [1] 400</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; attr(,"level")</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; [1] "INFO"</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; [1] "loglevel" "integer"</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(TRACE)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="kw"><a href="../reference/log_level.html">log_debug</a></span>(<span class="st">'How are you doing today?'</span>)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt; DEBUG [2018-11-24 00:20:44] How are you doing today?</span></a></code></pre></div>
<p>So the <code><a href="../reference/log_threshold.html">?log_threshold</a></code> function can both get and set the log level threshold for all future log requests.</p>
<p>For the full list of all supported log levels and so thus the possible log level thresholds, see <code><a href="../reference/log_levels.html">?log_levels</a></code>.</p>
<p>If you want to define the log level in a programmatic way, check out <code><a href="../reference/log_level.html">?log_level</a></code>, eg</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/log_level.html">log_level</a></span>(INFO, <span class="st">'Hi, there!'</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; INFO [2018-11-24 00:20:44] Hi, there!</span></a></code></pre></div>
</div>
<div id="log-namespaces" class="section level2">
<h2 class="hasAnchor">
<a href="#log-namespaces" class="anchor"></a>Log namespaces</h2>
<p>By default, all log messages will be processed by the global <code>logger</code> definition, but you may also use custom namespaces (eg to deliver specific log records to a special destination or to apply a custom log level threshold) and even multiple loggers as well within the very same namespace (eg to deliver all <code>INFO</code> and above log levels in the console and everything below that to a trace log file).</p>
<p>If you specify an unknown <code>namespace</code> in a log request, it will fall back to the global settings:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(INFO)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="../reference/log_level.html">log_trace</a></span>(<span class="st">'Hi, there!'</span>, <span class="dt">namespace =</span> <span class="st">'kitchensink'</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'Hi, there!'</span>, <span class="dt">namespace =</span> <span class="st">'kitchensink'</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; INFO [2018-11-24 00:20:44] Hi, there!</span></a></code></pre></div>
<p>But once you start customizing that namespace, it gets forked from the global settings and live on its own without modifying the original namespace:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(TRACE, <span class="dt">namespace =</span> <span class="st">'kitchensink'</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="../reference/log_level.html">log_trace</a></span>(<span class="st">'Hi, there!'</span>, <span class="dt">namespace =</span> <span class="st">'kitchensink'</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; TRACE [2018-11-24 00:20:44] Hi, there!</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'Hi, there!'</span>, <span class="dt">namespace =</span> <span class="st">'kitchensink'</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; INFO [2018-11-24 00:20:44] Hi, there!</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw"><a href="../reference/log_level.html">log_trace</a></span>(<span class="st">'Hi, there!'</span>)</a></code></pre></div>
</div>
<div id="log-message-formats-and-layouts" class="section level2">
<h2 class="hasAnchor">
<a href="#log-message-formats-and-layouts" class="anchor"></a>Log message formats and layouts</h2>
<p>By default, <code><a href="../reference/log_level.html">?log_level</a></code> and its derivative functions (eg <code><a href="../reference/log_level.html">?log_info</a></code>) will simply record the log-level, the current timestamp and the message after being processed by <code>glue</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; INFO [2018-11-24 00:20:44] 42</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'The answer is {42}'</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answer is 42</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'The answers are {1:5}'</span>)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answers are 1</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answers are 2</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answers are 3</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answers are 4</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; INFO [2018-11-24 00:20:44] The answers are 5</span></a></code></pre></div>
<p>In the above example, first, <code>42</code> was converted to a string by the <code><a href="../reference/formatter_glue.html">?formatter_glue</a></code> message formatter, then the message was passed to the <code><a href="../reference/layout_simple.html">?layout_simple</a></code> layout function to generate the actual log record.</p>
<p>An example of another layout function writing the same log messages in JSON:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../reference/log_layout.html">log_layout</a></span>(layout_json)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"42"}</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'The answer is {42}'</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answer is 42"}</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'The answers are {1:5}'</span>)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answers are 1"}</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answers are 2"}</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answers are 3"}</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answers are 4"}</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; {"level":"INFO","timestamp":"2018-11-24 00:20:44","message":"The answers are 5"}</span></a></code></pre></div>
<p>For other formatter and layout functions, see the manual of the above mentioned functions that have references to all the other functions and generator functions bundled with the package.</p>
</div>
<div id="custom-log-record-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-log-record-layout" class="anchor"></a>Custom log record layout</h2>
<p>To define a custom format on how the log messages should be rendered, you may write your own <code>formatter</code> and <code>layout</code> function(s) or rely on the function generator functions bundled with the <code>logger</code> package, such as <code><a href="../reference/layout_glue_generator.html">?layout_glue_generator</a></code>.</p>
<p>This function returns a <code>layout</code> function that you can define by <code>glue</code>-ing together variables describing the log request via <code><a href="../reference/get_logger_meta_variables.html">?get_logger_meta_variables</a></code>, so having easy access to (package) namespace, calling function’s name, hostname, user running the R process etc.</p>
<p>A quick example:</p>
<ul>
<li>
<p>define custom logger:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">logger &lt;-<span class="st"> </span><span class="kw"><a href="../reference/layout_glue_generator.html">layout_glue_generator</a></span>(<span class="dt">format =</span> <span class="st">'{node}/{pid}/{namespace}/{fn} {time} {level}: {msg}'</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="../reference/log_layout.html">log_layout</a></span>(logger)</a></code></pre></div>
</li>
<li>
<p>check what’s being logged when called from the global environment:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'foo'</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; travis-job-daroczig-logger-458993225.travisci.net/13850/R_GlobalEnv/eval 2018-11-24 00:20:44 INFO: foo</span></a></code></pre></div>
</li>
<li>
<p>check what’s being logged when called from a custom function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">f &lt;-<span class="st"> </span><span class="cf">function</span>() <span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'foo'</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">f</span>()</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; travis-job-daroczig-logger-458993225.travisci.net/13850/R_GlobalEnv/f 2018-11-24 00:20:44 INFO: foo</span></a></code></pre></div>
</li>
<li>
<p>check what’s being logged when called from a package:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/load_all">load_all</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">'demo-packages/logger-tester-package'</span>, <span class="dt">package =</span> <span class="st">'logger'</span>))</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; Loading logger.tester</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="kw">logger_tester_function</span>(INFO, <span class="st">'hi from tester package'</span>)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; travis-job-daroczig-logger-458993225.travisci.net/13850/logger.tester/logger_tester_function 2018-11-24 00:20:45 INFO: hi from tester package</span></a></code></pre></div>
</li>
<li>
<p>suppress messages in a namespace:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(<span class="dt">namespace =</span> <span class="st">'logger.tester'</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; [1] 400</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; attr(,"level")</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; [1] "INFO"</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; [1] "loglevel" "integer"</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(WARN, <span class="dt">namespace =</span> <span class="st">'logger.tester'</span>)</a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="kw">logger_tester_function</span>(INFO, <span class="st">'hi from tester package'</span>)</a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="kw">logger_tester_function</span>(WARN, <span class="st">'hi from tester package'</span>)</a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; travis-job-daroczig-logger-458993225.travisci.net/13850/logger.tester/logger_tester_function 2018-11-24 00:20:45 WARN: hi from tester package</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'I am still working in the global namespace'</span>)</a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; travis-job-daroczig-logger-458993225.travisci.net/13850/R_GlobalEnv/eval 2018-11-24 00:20:45 INFO: I am still working in the global namespace</span></a></code></pre></div>
</li>
</ul>
<p><em>Note that the <code>layout_glue_generator</code> functions also adds a special attribute to the resulting formatting function so that when printing the layout function to the console, the user can easily interpret what’s being used instead of just showing the actual functions’s body:</em></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="../reference/log_layout.html">log_layout</a></span>()</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt; layout_glue_generator(format = "{node}/{pid}/{namespace}/{fn} {time} {level}: {msg}")</span></a></code></pre></div>
<p>For more details on this, see the <a href="https://daroczig.github.io/logger/articles/write_custom_extensions.html">Writing custom logger extensions</a> vignette.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">## reset layout</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw"><a href="../reference/log_layout.html">log_layout</a></span>(layout_simple)</a></code></pre></div>
</div>
<div id="delivering-log-records-to-their-destination" class="section level2">
<h2 class="hasAnchor">
<a href="#delivering-log-records-to-their-destination" class="anchor"></a>Delivering log records to their destination</h2>
<p>By default, <code>logger</code> will write to the console or <code>stdout</code> via the <code><a href="../reference/appender_console.html">?appender_console</a></code> function:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="../reference/log_appender.html">log_appender</a></span>()</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">#&gt; appender_console</span></a></code></pre></div>
<p>To write to a logfile instead, use the <code><a href="../reference/appender_file.html">?appender_file</a></code> generator function, that returns a function that can be used in any namespace:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempfile</a></span>()</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw"><a href="../reference/log_appender.html">log_appender</a></span>(<span class="kw"><a href="../reference/appender_file.html">appender_file</a></span>(t))</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'where is this message going?'</span>)</a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="kw"><a href="../reference/log_appender.html">log_appender</a></span>()</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; appender_file(file = t)</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/readLines">readLines</a></span>(t)</a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; [1] "INFO [2018-11-24 00:20:45] where is this message going?"</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unlink">unlink</a></span>(t)</a></code></pre></div>
<p>You may find <code><a href="../reference/appender_tee.html">?appender_tee</a></code> also useful, that write the log messages to both <code>stdout</code> and a file.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">## reset appender</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw"><a href="../reference/log_appender.html">log_appender</a></span>(appender_console)</a></code></pre></div>
</div>
<div id="stacking-loggers" class="section level2">
<h2 class="hasAnchor">
<a href="#stacking-loggers" class="anchor"></a>Stacking loggers</h2>
<p>Note that the <code><a href="../reference/appender_tee.html">?appender_tee</a></code> functionality can be implemented by stacking loggers as well, eg setting two loggers for the global namespace: <code><a href="../reference/appender_console.html">?appender_console</a></code> and <code><a href="../reference/appender_file.html">?appender_file</a></code>. The advantage of this approach is that you can set different log level thresholds for each logger, for example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>()</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; [1] 400</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; attr(,"level")</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; [1] "INFO"</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; [1] "loglevel" "integer"</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"></a>
<a class="sourceLine" id="cb17-8" data-line-number="8">## create a new logger with index 2</a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(TRACE, <span class="dt">index =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-10" data-line-number="10"></a>
<a class="sourceLine" id="cb17-11" data-line-number="11">## note that the original logger still have the same log level threshold</a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>()</a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; [1] 400</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; attr(,"level")</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; [1] "INFO"</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; [1] "loglevel" "integer"</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="kw"><a href="../reference/log_threshold.html">log_threshold</a></span>(<span class="dt">index =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; [1] 600</span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt; attr(,"level")</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; [1] "TRACE"</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; [1] "loglevel" "integer"</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"></a>
<a class="sourceLine" id="cb17-25" data-line-number="25">## update the appender of the new logger</a>
<a class="sourceLine" id="cb17-26" data-line-number="26">t &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempfile</a></span>()</a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="kw"><a href="../reference/log_appender.html">log_appender</a></span>(<span class="kw"><a href="../reference/appender_file.html">appender_file</a></span>(t), <span class="dt">index =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-28" data-line-number="28"></a>
<a class="sourceLine" id="cb17-29" data-line-number="29">## test both loggers</a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="kw"><a href="../reference/log_level.html">log_info</a></span>(<span class="st">'info msg'</span>)</a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="co">#&gt; INFO [2018-11-24 00:20:45] info msg</span></a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="kw"><a href="../reference/log_level.html">log_debug</a></span>(<span class="st">'info msg'</span>)</a>
<a class="sourceLine" id="cb17-33" data-line-number="33"></a>
<a class="sourceLine" id="cb17-34" data-line-number="34"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/readLines">readLines</a></span>(t)</a>
<a class="sourceLine" id="cb17-35" data-line-number="35"><span class="co">#&gt; [1] "INFO [2018-11-24 00:20:45] info msg" </span></a>
<a class="sourceLine" id="cb17-36" data-line-number="36"><span class="co">#&gt; [2] "DEBUG [2018-11-24 00:20:45] info msg"</span></a>
<a class="sourceLine" id="cb17-37" data-line-number="37"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unlink">unlink</a></span>(t)</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#what-gets-logged">What gets logged?</a></li>
      <li><a href="#log-namespaces">Log namespaces</a></li>
      <li><a href="#log-message-formats-and-layouts">Log message formats and layouts</a></li>
      <li><a href="#custom-log-record-layout">Custom log record layout</a></li>
      <li><a href="#delivering-log-records-to-their-destination">Delivering log records to their destination</a></li>
      <li><a href="#stacking-loggers">Stacking loggers</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Gergely Daróczi, <a href="https://system1.com"><img src="http://system1.com/static/svg/logo.svg" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
